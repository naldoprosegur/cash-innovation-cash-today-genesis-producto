DECLARE
   OWNER_OBJECTS VARCHAR2(30) := '';
   EXISTE NUMBER;
BEGIN

   SELECT sys_context( 'userenv', 'current_schema' ) INTO OWNER_OBJECTS FROM DUAL;
    
   SELECT COUNT(1) INTO EXISTE FROM ALL_TABLES A WHERE UPPER(A.OWNER) = UPPER(OWNER_OBJECTS) AND UPPER(A.TABLE_NAME) = 'SAPR_GTT_TAUXILIAR';

   IF EXISTE = 1 THEN 
      SELECT COUNT(1) INTO EXISTE FROM ALL_TAB_COLUMNS WHERE OWNER = OWNER_OBJECTS AND TABLE_NAME = 'SAPR_GTT_TAUXILIAR' AND COLUMN_NAME = 'COD_CAMPO10';
      
       IF EXISTE = 0 THEN
         EXECUTE IMMEDIATE 'alter table SAPR_GTT_TAUXILIAR add COD_CAMPO10 VARCHAR2(4000)';
      END IF;

      SELECT COUNT(1) INTO EXISTE FROM ALL_TAB_COLUMNS WHERE OWNER = OWNER_OBJECTS AND TABLE_NAME = 'SAPR_GTT_TAUXILIAR' AND COLUMN_NAME = 'COD_CAMPO11';
      
       IF EXISTE = 0 THEN
         EXECUTE IMMEDIATE 'alter table SAPR_GTT_TAUXILIAR add COD_CAMPO11 VARCHAR2(4000)';
      END IF;
   END IF;
   
   EXCEPTION
      WHEN OTHERS THEN raise_application_error( -20001, 'Arquivo: Genesis.sql Script: SAPR_GTT_TAUXILIAR - ' || sqlerrm);
      RAISE;
END;  
/
